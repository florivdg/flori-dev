---
import { getCollection } from 'astro:content'
import Layout from '../../layouts/Layout.astro'
import BoxedContent from '../../components/BoxedContent.astro'

const reads = await getCollection('reads', ({ data }) => {
  return import.meta.env.PROD ? data.draft !== true : true
})
---

<Layout title="Reads">
  <main>
    <BoxedContent>
      <h1 class="mb-6 text-4xl font-black">
        <span class="font-light line-through" aria-hidden="true">Blog</span> Reads
      </h1>
      <p class="mb-4 text-xl font-semibold">
        <span class="highlight">tl;dr</span> This is not a blog. It's documentation!
      </p>

      <p class="mb-12 text-xl">
        Welcome to my not-a-blog. It's definitely not a blog, because blogs are
        for rambling and ranting, and this is purely <span class="highlight"
          >documentation</span
        >. Okay, maybe there will be a little bit of rambling, but only in the
        name of thoroughness.
      </p>
    </BoxedContent>

    <BoxedContent>
      <ul>
        {
          reads.map((entry) => (
            <li>
              <a
                href={`/reads/${entry.slug}`}
                class=" underline hover:no-underline"
              >
                {entry.data.title}
              </a>
            </li>
          ))
        }
      </ul>
    </BoxedContent>
  </main>
</Layout>
